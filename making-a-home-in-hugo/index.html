<!doctype html><html lang=en><head><meta charset=utf-8><title>Making a home in Hugo - superterran</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.82.1"><meta property="og:site_name" content="superterran"><meta property="og:description" content="Mostly a blog"><meta property="description" content="Mostly a blog"><meta property="og:url" content="https://superterran.github.io/making-a-home-in-hugo/"><meta property="og:type" content="article"><meta property="og:image" content="https://superterran.github.io/images/logo.png"><link rel=stylesheet href=/css/bundle.min.9b0f87cba51f7b7938d133fa4e3fd7462aaef0ee900f2c696d7b57cedb163e70.css integrity="sha256-mw+Hy6Ufe3k40TP6Tj/XRiqu8O6QDyxpbXtXztsWPnA="><link rel=stylesheet href=/css/add-on.css></head><body><header id=site-header><nav id=site-nav><h1 class=nav-title><a href=/ class=nav>Blog</a></h1><menu id=site-nav-menu class="flyout-menu menu"><a href=/ class="nav link"><i class="fa fa-home"></i> Home</a>
<a href=/about/ class="nav link"><i class="far fa-envelope"></i> About</a>
<a href=https://github.com/superterran/ class="nav link"><i class="far fa-id-card"></i> Github</a>
<a href=#share-menu class="nav link share-toggle"><i class="fas fa-share-alt">&nbsp;</i>Share</a>
<a href=#search-input class="nav link search-toggle"><i class="fas fa-search">&nbsp;</i>Search</a></menu>
<a href=#search-input class="nav search-toggle"><i class="fas fa-search fa-2x">&nbsp;</i></a>
<a href=#share-menu class="nav share-toggle"><i class="fas fa-share-alt fa-2x">&nbsp;</i></a>
<a href=#site-nav class="nav nav-toggle"><i class="fas fa-bars fa-2x"></i></a></nav><menu id=search class=menu><input id=search-input class="search-input menu"></input><div id=search-results class="search-results menu"></div></menu><menu id=share-menu class="flyout-menu menu"><h1>Share Post</h1><a href="//twitter.com/share?text=&url=https%3a%2f%2fsuperterran.github.io%2fmaking-a-home-in-hugo%2f" target=_blank rel=noopener class="nav share-btn twitter"><p>Twitter</p></a><a href="//www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fsuperterran.github.io%2fmaking-a-home-in-hugo%2f" target=_blank rel=noopener class="nav share-btn facebook"><p>Facebook</p></a><a href="//www.reddit.com/submit?url=https%3a%2f%2fsuperterran.github.io%2fmaking-a-home-in-hugo%2f&title=" target=_blank rel=noopener class="nav share-btn reddit"><p>Reddit</p></a><a href="//www.linkedin.com/shareArticle?url=https%3a%2f%2fsuperterran.github.io%2fmaking-a-home-in-hugo%2f&title=" target=_blank rel=noopener class="nav share-btn linkedin"><p>LinkedIn</p></a><a href="//www.pinterest.com/pin/create/button/?url=https%3a%2f%2fsuperterran.github.io%2fmaking-a-home-in-hugo%2f&description=" target=_blank rel=noopener class="nav share-btn pinterest"><p>Pinterest</p></a><a href="mailto:?subject=Check%20out%20this%20post%20by %7b%20%20%20%20%20%20%20%20map%5b%5d%7d&body=https%3a%2f%2fsuperterran.github.io%2fmaking-a-home-in-hugo%2f" target=_blank class="nav share-btn email" data-proofer-ignore><p>Email</p></a></menu></header><div id=wrapper><section id=site-intro><a href=/><img src=https://superterran.github.io/images/logo.png class=circle width=200 alt="superterran logo"></a><header><h1>Doug Hatcher</h1></header><main><p>From my editor, through some pipes, to your browser</p></main><footer><ul class=socnet-icons><li><a href=//github.com/superterran target=_blank rel=noopener title=GitHub class="fab fa-github"></a></li><li><a href=//codepen.io/superterran target=_blank rel=noopener title=CodePen class="fab fa-codepen"></a></li><li><a href=//www.linkedin.com/in/doughatcher target=_blank rel=noopener title=LinkedIn class="fab fa-linkedin"></a></li><li><a href=//facebook.com/doug.hatcher target=_blank rel=noopener title=Facebook class="fab fa-facebook"></a></li><li><a href=//reddit.com/user/superterran target=_blank rel=noopener title=Reddit class="fab fa-reddit"></a></li><li><a href=//twitter.com/superterran target=_blank rel=noopener title=Twitter class="fab fa-twitter"></a></li><li><a href=mailto:superterran@gmail.com target=_blank title=Email class="far fa-envelope"></a></li></ul></footer></section><main id=site-main><article class=post><header><div class=title><h2><a href=/making-a-home-in-hugo/>Making a home in Hugo</a></h2></div><div class=meta><time datetime="2021-04-30 22:38:19 +0000 UTC">April 30, 2021</time><p>4-Minute Read</p></div></header><div class=content><p>A few years back I spent a good bit of time with Jekyll, a static-site generator that is compatible with github-pages. Static-site generators have fascinated me every since. I work professionally with Magento, which takes a lot of effort to host well. With something like Jekyl or Hugo, the infrastructure needs reduce dramatically as you only need to serve a few html files ultimately. I&rsquo;m also a giant devops geek, so I always jump at the chance to build some continuous delivery workflows.</p><h2 id=a-little-history>A little History&mldr;</h2><p>A few things have changed since the last time I worked on this blog. Back in the day, Github Actions didn&rsquo;t exist, so your ability to heap features onto Jekyll were limited. This led me to using Netlify to do my building and hosting, which honestly was fine. I event learned a little ruby along the way. But times change&mldr; we can use actions to use any tool we want to populate github.io. I also don&rsquo;t want to spent a lot of time with a four-year-old tool and repo, so I looked into what the kids were using. I played with a few options, and Hugo really stood out.</p><h2 id=why-hugo>Why Hugo?</h2><p>First, Hugo is <em>fast</em>. Github actions are completing in 5-10 seconds. This is as close to real-time as I need, especially coming from a world where Bitbucket Pipelines or Netlfy builds take a minute before they even start!</p><p>Second, it&rsquo;s really simple. Probably the one thing that convinced me to go with it is this <a href=https://github.com/gohugoio/hugoBasicExample>Hugo Example Repo</a>, where there&rsquo;s no theme files - just the meta files. While this level of separation is important to me, I actually wanted to completely de-couple the content from the rest of the codebase, and this didn&rsquo;t go far enough, but it&rsquo;s nice that Hugo likes git submodules because this made going all the way fairly easy.</p><p>Third, I like how customizable it is. It supports widgets (blocks you can move around), it supports like four varieties of config files. While most of these static site generators support markdown, this will take many files you throw at it, and it&rsquo;s markdown files don&rsquo;t need grey-matter, which I found is a barrier to blogging that mostly stopped me.</p><h2 id=architecture>Architecture</h2><p>Like I mentioned earlier, I&rsquo;m using a github action to run the hugo build and populate the gh-pages branch which gets served by github.io. I was able to find an action file that does this out the box, but I modified it to run <code>git submodule update</code> so that it pulls in the latest content from my blog repo. I also added a RepositoryDispatch trigger, and in my blog repo I added an action that triggers it I can deploy by updating either repo.</p><h2 id=content-management>Content Management</h2><p>This is where I felt my Jekyll instance fell short. I tried using Prose and Forestry, and this week I looked into Netlify CMS to find some frontend to manage this well. But of course, the whole draw of markdown is supposed to be how ambiguous it is. The problem is that with my Jekyll site, you needed a bunch of custom front-matter. This meant you needed a frontend that managed the grey-matter, which meant you were screwing with that the whole time.</p><p>The front-matter problem also had me take a long-hard look at what I&rsquo;m tracking, and make some executive decisions about the data I track. I decided that, by default, I&rsquo;d prefer not to have any front-matter, that an empty markdown file with just content should post. This took a few template tweaks, but was not hard. I even went so far as to have it prefer the filename for the title field (you will notice my filenames contain caps, spaces, some special characters). This seems to work, and from a style stand-point makes it very obvious on how to create content. Just removing friction. To this end, I choose a template that requires little to no imagery, this will be a text based blog moving forward primarily.</p><p>In other parts of my life, I&rsquo;ve started using <a href=https://marktext.app/>Mark Text</a> as a general-purpose note taking app, where my ~/Documents directory just has directories-upon-directories of markdown files. This is easy to maintain, it&rsquo;s great. So with this, I&rsquo;ve cloned <code>superterran/blog</code> to ~/Documents, and I added a script <code>~/bin/publish</code> that commits the contents and pushes it up.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/bin/bash
</span><span style=color:#75715e></span>cd ~/Documents/Blog
git pull
git add .
git commit -m <span style=color:#e6db74>&#34;publish command ran on </span><span style=color:#66d9ef>$(</span>whoami<span style=color:#66d9ef>)</span><span style=color:#e6db74>@</span><span style=color:#66d9ef>$(</span>hostname<span style=color:#66d9ef>)</span><span style=color:#e6db74> on </span><span style=color:#66d9ef>$(</span>date<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
git push
</code></pre></div><h2 id=conclusion>Conclusion</h2><p>So far, I think it&rsquo;s great. The builds are super-fast, the content is well separated from the app, the hosting is free, and everything is built around markdown. What&rsquo;s not to like? If you want to learn more or check under the hood, check it out on <a href=https://github.com/superterran/superterran.github.io>GitHub</a>!</p></div><footer><div class=stats><ul class=categories><li>None</li></ul><ul class=tags><li>None</li></ul></div></footer></article><script src=https://utteranc.es/client.js repo=superterran/blog issue-term=pathname issue-number label theme=github-light crossorigin=anonymous async></script><div class=pagination><a href=/issues-with-8bitdo-usb-dongle/ class="button left"><span>Issues with 8bitdo USB Dongle</span></a>
<a href=/never-stop-defending-gnome/ class="button right"><span>Never Stop Defending GNOME</span></a></div></main><section id=site-sidebar><section id=mini-bio><header><h1>About</h1></header><p>This theme was developed for Hugo static site generator.</p><footer><a href=/about class=button>Learn More</a></footer></section></section><footer id=site-footer><ul class=socnet-icons></ul><p class=copyright>© 2021 superterran<br>Theme: <a href=https://github.com/pacollins/hugo-future-imperfect-slim target=_blank rel=noopener>Hugo Future Imperfect Slim</a><br>A <a href=https://html5up.net/future-imperfect target=_blank rel=noopener>HTML5 UP port</a> | Powered by <a href=https://gohugo.io/ title=0.82.1 target=_blank rel=noopener>Hugo</a></p></footer><a id=back-to-top href=# class="fas fa-arrow-up fa-2x"></a><script src=/js/highlight.js></script><script>hljs.initHighlightingOnLoad()</script><script src=/js/bundle.min.0d5e8ac1d85d8099bdf7808daad895a475c163efad3542448e3f7b31852b6ad5.js integrity="sha256-DV6KwdhdgJm994CNqtiVpHXBY++tNUJEjj97MYUratU="></script><script src=/js/add-on.js></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-71254-3','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></div></body></html>